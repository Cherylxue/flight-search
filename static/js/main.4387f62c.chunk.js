(this["webpackJsonpflight-search"]=this["webpackJsonpflight-search"]||[]).push([[0],[,,,,function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(5),i=a.n(r),s=(a(10),a(2)),d=(a(11),a.p+"static/media/flight-search-header.0180d11d.jpg"),o=(a(12),a(0));var u=function(){return Object(o.jsxs)("div",{id:"header-container",children:[Object(o.jsx)("img",{id:"header",src:d,alt:""}),Object(o.jsx)("h3",{id:"header-text",children:"Flight Search"}),Object(o.jsx)("h4",{id:"header-slogan",children:"Find your cheapest domestic flight quote"})]})};a(4);var l=function(e){var t=Object(n.useState)([""]),a=Object(s.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)("US"),d=Object(s.a)(i,2),u=d[0],l=d[1],j=c.map((function(e){return"".concat(e.PlaceId," - ").concat(e.PlaceName)}));return Object(n.useEffect)((function(){u.length>=2&&fetch("https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/autosuggest/v1.0/US/USD/en-US/?query=".concat(u),{method:"GET",headers:{"x-rapidapi-key":"29e502b066msh7ca5e75494da312p1a21e4jsn5c65b49dbe32","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com"}}).then((function(e){e.json().then((function(e){r(e.Places)}))})).catch((function(e){console.error(e)}))}),[u]),Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"input-container",children:[Object(o.jsx)("p",{children:e.placeHolder}),Object(o.jsx)("input",{type:"text",onChange:function(e){l(e.target.value)},onBlur:function(t){void 0===j.find((function(e){return t.target.value===e}))?e.placeValidation(!1):(e.placeValidation(!0),e.handleSetPlace(t.target.value.match(/[A-Z]{2,}/)[0]))},list:"place-name-".concat(e.keyName),placeholder:"US - United States"}),Object(o.jsx)("datalist",{id:"place-name-".concat(e.keyName),children:c.map((function(t){return Object(o.jsx)("option",{value:"".concat(t.PlaceId," - ").concat(t.PlaceName)},"".concat(c.indexOf(t),"-").concat(e.keyName))}))})]})})};var j=function(e){var t=Object(n.useState)(e.today),a=Object(s.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){"Return"===e.header&&r(e.departureDate)}),[e.departureDate,e.header]),Object(o.jsxs)("div",{className:"input-container",children:[Object(o.jsxs)("p",{children:[e.header," Date"]}),Object(o.jsx)("input",{type:"date",onChange:function(t){var a=t.target.value;r(a),e.handleSetDate(a)},value:c,min:"Departure"===e.header?e.today:e.departureDate,onKeyDown:function(){return!1}})]})};var h=function(e){var t=new Date,a=t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2),c=Object(n.useState)(!1),r=Object(s.a)(c,2),i=r[0],d=r[1],u=Object(n.useState)(),h=Object(s.a)(u,2),b=h[0],p=h[1],O=Object(n.useState)(),f=Object(s.a)(O,2),m=f[0],x=f[1],g=Object(n.useState)(a),v=Object(s.a)(g,2),D=v[0],S=v[1],y=Object(n.useState)(a),P=Object(s.a)(y,2),k=P[0],I=P[1],N=Object(n.useState)(!0),F=Object(s.a)(N,2),L=F[0],U=F[1];return Object(o.jsxs)("div",{id:"SearchBar",children:[Object(o.jsxs)("div",{id:"search-bar-container",children:[Object(o.jsx)(l,{placeHolder:"From",placeValidation:d,keyName:"origin",handleSetPlace:p}),Object(o.jsx)(l,{placeHolder:"Destination",placeValidation:d,keyName:"dest",handleSetPlace:x}),Object(o.jsx)(j,{header:"Departure",anytime:!1,setDate:S,dateValidation:U,handleSetDate:S,today:a}),Object(o.jsx)(j,{header:"Return",anytime:!0,setDate:I,dateValidation:U,handleSetDate:I,departureDate:D,today:a})]}),Object(o.jsx)("button",{onClick:function(){i&&L?e.submit({originPlace:b,destPlace:m,departureDate:D,returnDate:k}):alert("Invalid Input")},children:"Search"})]})};var b=function(e){var t=e.outboundLeg,a=e.inboundLeg,n=e.places,c=e.minPrice;return Object(o.jsxs)("div",{id:"result-card-container",children:[Object(o.jsxs)("div",{id:"outbound-info",children:[Object(o.jsxs)("label",{id:"origin-name",children:["From:"," ",n.map((function(e){return e.PlaceId===t.OriginId&&e.Name}))]}),Object(o.jsxs)("label",{children:["To:"," ",n.map((function(e){return e.PlaceId===t.DestinationId&&e.Name}))]}),Object(o.jsxs)("label",{children:["Departure Date: ",t.DepartureDate]})]}),void 0!==a&&Object(o.jsxs)("div",{id:"inbound-info",children:[Object(o.jsxs)("p",{children:["From:",n.map((function(e){return e.PlaceId===a.OriginId&&e.Name}))]}),Object(o.jsxs)("p",{children:["To:",n.map((function(e){return e.PlaceId===a.DestinationId&&e.Name}))]}),Object(o.jsxs)("p",{children:["Departure Date:",a.DepartureDate]})]}),Object(o.jsxs)("label",{id:"price-info",children:["Minimum price in the past: ",Object(o.jsxs)("span",{id:"price",children:["$",c]})]})]})};a(14);var p=function(e){var t=e.data,a=t.Places,n=t.Carriers;return Object(o.jsxs)("div",{id:"result-cards-container",children:[void 0!==t.Quotes&&0===t.Quotes.length&&Object(o.jsx)("h3",{id:"no-result",children:"No Result"}),void 0!==t.Quotes&&t.Quotes.length>0&&t.Quotes.map((function(e){return Object(o.jsx)(b,{minPrice:e.MinPrice,outboundLeg:e.OutboundLeg,inboundLeg:e.InboundLeg,places:a,carriers:n},e.QuoteId)}))]})};var O=function(){var e=Object(n.useState)({}),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),i=Object(s.a)(r,2),d=i[0],l=i[1],j=Object(n.useState)(!1),b=Object(s.a)(j,2),O=b[0],f=b[1];return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(u,{}),Object(o.jsx)(h,{submit:function(e){var t=e.originPlace,a=e.destPlace,n=e.departureDate,r=e.returnDate;l(!0),fetch("https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/browseroutes/v1.0/US/USD/en-US/".concat(t,"/").concat(a,"/").concat(n,"?inboundpartialdate=").concat(r),{method:"GET",headers:{"x-rapidapi-key":"29e502b066msh7ca5e75494da312p1a21e4jsn5c65b49dbe32","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com"}}).then((function(e){400===e.status&&alert("No result for the current date. Please try to pick another date."),e.json().then((function(e){l(!1),c(e),f(!0)}))})).catch((function(e){console.log(e)}))}}),d&&Object(o.jsx)("p",{children:"Loading... "}),Object(o.jsx)(p,{data:a,isSubmitted:O})]})},f=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,16)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))};i.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(O,{})}),document.getElementById("root")),f()}],[[15,1,2]]]);
//# sourceMappingURL=main.4387f62c.chunk.js.map